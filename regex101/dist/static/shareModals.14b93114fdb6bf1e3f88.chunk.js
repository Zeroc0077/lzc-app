!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="931af778-7bd5-475b-bf1b-fda94776a004",e._sentryDebugIdIdentifier="sentry-dbid-931af778-7bd5-475b-bf1b-fda94776a004")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"12.0.11"},(("undefined"!=typeof self?self:this).webpackChunkregex101=("undefined"!=typeof self?self:this).webpackChunkregex101||[]).push([[714],{27024:(e,s,t)=>{t.r(s),t.d(s,{default:()=>N});var r=t(10911),i=t(63696),n=t(67435),a=t(49449),l=t(57360),o=t(74911),c=t(31761),d=t(75812),u=t(76630),g=t(17247),x=t(46342),h=t(33280),m=t(92825),p=t(75765),j=t(9496),b=t(35933),y="c7PUy",A="Tma4S",f="QY78U",E=t(62540);const k=({permalink:e,error:s,userId:t,isOwner:r,regexDeleteUrl:i,versionDeleteUrl:n,isLoading:a})=>s?(0,E.jsx)("div",{className:y,children:(0,E.jsx)(d.$T,{type:u.Ei.ERROR,children:(0,o.A)("There was an error trying to save your regex. Please try again later.")})}):a?(0,E.jsxs)("div",{className:y,children:[(0,E.jsx)(d.y$,{}),(0,E.jsx)("div",{className:"xelCc",children:(0,o.A)("Please wait while your request is being processed...")})]}):(0,E.jsxs)("div",{children:[(0,E.jsx)(d.JU,{text:(0,o.A)("Link to regular expression")}),(0,E.jsx)(d.ks,{type:"text",value:e,selectOnMount:!0,selectOnFocus:!0,readOnly:!0,copyButton:!0}),(0,E.jsxs)(d.$T,{className:f,type:u.Ei.SUCCESS,children:[(0,o.A)("Your regex has been saved and may be accessed with this link by anybody you give it to.")," ",null!=t&&r&&(0,o.A)("This entry has also been automatically been linked to your account for your convenience.")]}),null==t&&r&&null!=i&&(0,E.jsxs)("div",{className:A,children:[(0,E.jsx)(d.JU,{text:(0,o.A)("Delete regular expression")}),(0,E.jsx)(d.ks,{type:"text",value:i,readOnly:!0,copyButton:!0,selectOnFocus:!0}),(0,E.jsx)(d.$T,{className:f,children:(0,o.A)("Because you are not signed in this entry has not been linked to an account. It is recommended you sign in so that your entries are never lost and you can manage them from the account page whenever you like.")})]}),null==t&&null!=n&&(0,E.jsxs)("div",{className:A,children:[(0,E.jsx)(d.JU,{text:(0,o.A)("Delete this version")}),(0,E.jsx)(d.ks,{type:"text",value:n,readOnly:!0,copyButton:!0,selectOnFocus:!0})]})]}),v=(0,i.memo)(k),C=[],N=({isUpdating:e,onModalClose:s,isOpen:t})=>{const y=(0,n.Zp)(),A=(0,a.jL)(),f=(0,g.pe)(),k=(0,r.A)(f,2),N=k[0],S=k[1],w=(0,g.oF)(),V=(0,r.A)(w,2),T=V[0],G=V[1],O=(0,g.zW)(),D=(0,r.A)(O,2),L=D[0],$=D[1],U=(0,a.GV)((e=>e.general.userId)),M=(0,a.GV)((e=>e.regexEditor.permalinkDetails.fragment)),F=(0,a.GV)((e=>e.regexEditor.permalinkDetails.title||e.regexEditor.libraryDetails.title))||"",I=(0,a.GV)((e=>e.regexEditor.permalinkDetails.tags))||C,_=(0,a.GV)((e=>e.regexEditor.userDetails.isOwner)),R=(0,a.GV)((e=>e.regexEditor.userDetails.isFavorite)),Y=(0,a.GV)((e=>e.unitTests.tests)),H=(0,a.GV)((e=>e.regexEditor.regex)),W=(0,a.GV)((e=>e.regexEditor.testString)),B=(0,a.GV)((e=>e.regexEditor.flags)),P=(0,a.GV)((e=>e.regexEditor.delimiter)),q=(0,a.GV)((e=>e.regexEditor.flavor)),J=(0,a.GV)((e=>e.regexEditor.substString)),Q=(0,a.GV)((e=>e.regexEditor.listSubstString)),z=(0,a.GV)((e=>e.regexEditor.selectedEditorType)),X=(0,i.useState)(!1),Z=(0,r.A)(X,2),K=Z[0],ee=Z[1],se=(0,i.useState)(F),te=(0,r.A)(se,2),re=te[0],ie=te[1],ne=(0,i.useState)(I),ae=(0,r.A)(ne,2),le=ae[0],oe=ae[1],ce=(0,i.useState)(null),de=(0,r.A)(ce,2),ue=de[0],ge=de[1],xe=(0,i.useState)(null),he=(0,r.A)(xe,2),me=he[0],pe=he[1],je=(0,i.useState)(null),be=(0,r.A)(je,2),ye=be[0],Ae=be[1],fe=(0,i.useCallback)((e=>{oe(e),ee(!0)}),[]),Ee=(0,i.useCallback)((e=>{ie(e),ee(!0)}),[]);(0,i.useEffect)((()=>{t&&(ee(!1),ge(null),pe(null),Ae(null))}),[t]),(0,i.useEffect)((()=>()=>{t||($.reset(),S.reset(),G.reset())}),[t,$,S,G]),(0,i.useEffect)((()=>{ie(F),oe(I)}),[I,F]),(0,i.useEffect)((()=>{if(!t||!$.isUninitialized)return;const s={permalinkFragment:e?M:null,unitTests:Y,regex:H,testString:W,flags:B,delimiter:P,flavor:q,substString:J,listSubstString:Q,selectedEditorType:z};Promise.all([L(s),(0,l.A)(250)]).then((([s])=>{if(null!=s.error)return;const t=s.data,r=t.permalinkFragment,i=t.version,n=t.regexDeleteCode,a=t.versionDeleteCode,l=t.isLibraryEntry,o=`${window.location.protocol}//${window.location.hostname}`,d=(0,c.p)(r,i);y(d,{replace:!0}),ge(`${o}${d}`),pe(`${o}/delete/${n}`),Ae(`${o}/delete/${i}/${a}`),A((0,x.c2)({permalinkFragment:r,version:i,regexDeleteCode:n,versionDeleteCode:a,isLibraryEntry:l,isUpdating:e}))}))}),[t,A,y,e,M,Y,H,W,B,P,q,J,Q,z,$.isUninitialized,L]);const ke=e?(0,o.A)("Update Regular Expression"):(0,o.A)("Save Regular Expression"),ve=S.isLoading||G.isLoading,Ce=ve||$.isLoading,Ne=!$.isLoading&&null!=U&&!$.isLoading&&(_||R);return(0,E.jsxs)(m.A,{isOpen:t,onModalClose:s,isLoading:Ce,children:[(0,E.jsx)(b.A,{children:ke}),(0,E.jsxs)(p.A,{children:[(0,E.jsx)(v,{error:$.isError,permalink:ue,userId:U,isOwner:_,regexDeleteUrl:me,versionDeleteUrl:ye,isLoading:$.isLoading}),Ne&&ue&&(0,E.jsx)(h.A,{title:re,tags:le,onTagsChange:fe,onTitleChange:Ee,disabled:ve,className:"vMvQ7"})]}),(0,E.jsxs)(j.A,{isLoading:ve,hasError:S.isError||G.isError,errorText:(0,o.A)("Unable to save changes, please try again"),children:[Ne&&(0,E.jsx)(d.$n,{onClick:async()=>{const e=await T({title:re,permalinkFragment:M});(await N({tags:le,permalinkFragment:M})).error||e.error||s()},text:(0,o.A)("Save title and tags"),className:"cigQp",disabled:!K||Ce}),(0,E.jsx)(d.$n,{type:u.Or.CANCEL,onClick:s,text:Ne&&K?(0,o.A)("Cancel"):(0,o.A)("Close"),disabled:Ce})]})]})}},60066:(e,s,t)=>{t.r(s),t.d(s,{default:()=>H});var r=t(10911),i=t(63696),n=t(4452),a=t.n(n),l=t(49449),o=t(74911),c=t(31761),d=t(58496),u=t(81515),g=t(14876),x=t(75812);const h=({children:e})=>e;var m=t(60833),p=t(62540);const j=({children:e,className:s,tabs:t,renderToolbar:n})=>{const l=(0,i.useState)(0),o=(0,r.A)(l,2),c=o[0],d=o[1];return(0,p.jsxs)("div",{className:a()("yfFoX",s),children:[(0,p.jsxs)("div",{className:"w213_",children:[t.map(((e,s)=>(0,p.jsx)(x.SC,{className:a()("kW50z",s===c&&"NY8Jo"),onClick:()=>d(s),children:e},`tabview-tab-${s}`))),n&&n(c)]}),(0,m.LQ)(e,((e,s)=>c===s))]})};var b=t(99241),y=t(61891),A=t(95979);const f=["onHeaderClick"],E=e=>{let s=e.onHeaderClick,t=(0,u.A)(e,f);return(0,p.jsxs)(y.A,Object.assign(Object.assign({closeOnClick:!0,insideModal:!0},t),{},{children:[(0,p.jsx)(A.j,{text:(0,o.A)("Headers")}),(0,p.jsx)(A.Nj,{}),(0,p.jsx)(A.Dr,{onClick:()=>s("# "),children:"H1"}),(0,p.jsx)(A.Dr,{onClick:()=>s("## "),children:"H2"}),(0,p.jsx)(A.Dr,{onClick:()=>s("### "),children:"H3"})]}))},k=({children:e})=>(0,p.jsx)("div",{className:"k7zT5",children:e});var v=t(28117),C=t(76630);const N=["tooltip","lastGroup","icon","isMenu"],S=(0,i.forwardRef)(((e,s)=>{let t=e.tooltip,r=e.lastGroup,i=e.icon,n=e.isMenu,a=(0,u.A)(e,N);return(0,p.jsx)(x.VE,{text:t,direction:r?C.HO.NW:C.HO.N,children:(0,p.jsxs)(x.SC,Object.assign(Object.assign({className:"oRZMo"},a),{},{ref:s,children:[(0,p.jsx)(i,{className:"XAXj9"}),n&&(0,p.jsx)(v.eQr,{className:"D5rms"})]}))})})),w=({onTextChange:e,className:s,getStart:t,getEnd:n,value:l})=>{const c=(0,i.useRef)(),d=(0,i.useState)(!1),u=(0,r.A)(d,2),g=u[0],x=u[1],h=(s="",r="")=>{const i=s+y()+r;e(j(i),t()+s.length,n()+s.length)},m=s=>{const r=y(),i=r.split("\n").map(s).join("\n");e(j(i),t(),n()+i.length-r.length)},j=e=>l.substring(0,t())+e+l.substring(n()),y=()=>l.substring(t(),n());return(0,p.jsxs)("div",{className:a()("vpQgd",s),children:[(0,p.jsxs)(k,{children:[(0,p.jsx)(S,{icon:b.UEl,tooltip:(0,o.A)("Add header"),onClick:()=>x(!0),isMenu:!0,ref:c}),(0,p.jsx)(S,{icon:b.ljE,tooltip:(0,o.A)("Add bold text"),onClick:()=>h("**","**")}),(0,p.jsx)(S,{icon:b._Me,tooltip:(0,o.A)("Add italic text"),onClick:()=>h("_","_")})]}),(0,p.jsxs)(k,{children:[(0,p.jsx)(S,{icon:b.JwJ,tooltip:(0,o.A)("Insert quote"),onClick:()=>m((e=>"> "+e))}),(0,p.jsx)(S,{icon:b.FSj,tooltip:(0,o.A)("Insert code snippet"),onClick:()=>{-1!==y().indexOf("\n")?m((e=>" ".repeat(4)+e)):h("`","`")}}),(0,p.jsx)(S,{icon:b.AnD,tooltip:(0,o.A)("Insert link"),onClick:()=>{const s=y(),r=`[${s}](url)`,i=t()+s.length+3,n=i+3;e(j(r),i,n)}})]}),(0,p.jsxs)(k,{children:[(0,p.jsx)(S,{icon:b.svy,tooltip:(0,o.A)("Add bulleted list"),onClick:()=>m((e=>"- "+e)),lastGroup:!0}),(0,p.jsx)(S,{icon:b.lfF,tooltip:(0,o.A)("Add numbered list"),onClick:()=>m(((e,s)=>s+1+". "+e)),lastGroup:!0})]}),(0,p.jsx)(E,{isOpen:g,onMenuClose:()=>x(!1),onHeaderClick:e=>h(e),target:c.current})]})},V=(0,i.memo)(w);var T="U7g5Y",G="rU8Wy",O="NMBtO";const D=["defaultValue","value","onChange","containerClassName","className"],L=e=>{let s=e.defaultValue,t=e.value,n=e.onChange,a=(e.containerClassName,e.className),l=(0,u.A)(e,D);const c=(0,i.useRef)(),d=(0,i.useState)(s||t||""),m=(0,r.A)(d,2),b=m[0],y=m[1],A=(0,i.useCallback)((()=>{var e;return(null==(e=c.current)?void 0:e.selectionStart)||0}),[]),f=(0,i.useCallback)((()=>{var e;return(null==(e=c.current)?void 0:e.selectionEnd)||0}),[]),E=(0,i.useCallback)((e=>{y(e),n&&n(e)}),[n]),k=(0,i.useCallback)(((e,s,t)=>{n&&n(e),c.current&&(y(e),setTimeout((()=>{c.current&&(c.current.focus(),c.current.setSelectionRange(s,t))})))}),[n]),v=[(0,o.A)("Write"),(0,o.A)("Preview")];return(0,p.jsxs)(j,{className:a,tabs:v,renderToolbar:e=>0!==e?null:(0,p.jsx)(V,{className:"ZaSVy",onTextChange:k,getStart:A,getEnd:f,value:b}),children:[(0,p.jsxs)(h,{children:[(0,p.jsx)("div",{className:G,children:(0,p.jsx)(x.ks,Object.assign(Object.assign({},l),{},{onChange:E,className:T,value:b,ref:c,multiline:!0}))}),(0,p.jsx)(x.N_,{to:"http://whatismarkdown.com/",absolute:!0,target:"_blank",className:O,children:(0,o.A)("Styling with Markdown is supported")})]}),(0,p.jsxs)(h,{children:[(0,p.jsxs)("div",{className:G,children:[(0,p.jsx)(x.ks,Object.assign(Object.assign({},l),{},{className:T,value:b,multiline:!0,disabled:!0})),(0,p.jsx)(g.A,{className:"Nbff7",children:b||(0,o.A)("Nothing to preview")})]}),(0,p.jsx)(x.N_,{to:"http://whatismarkdown.com/",absolute:!0,target:"_blank",className:O,children:(0,o.A)("Styling with Markdown is supported")})]})]})},$=(0,i.memo)(L);var U=t(17247),M=t(92825),F=t(75765),I=t(9496),_=t(35933);const R=({title:e,children:s,required:t,className:r})=>(0,p.jsxs)("div",{className:a()("B6YdS",r),children:[(0,p.jsx)(x.JU,{text:e,required:t}),s]}),Y=(0,i.memo)(R),H=({onModalClose:e,isOpen:s})=>{const t=(0,l.GV)((e=>e.regexEditor.permalinkDetails.fragment)),n=(0,l.GV)((e=>e.regexEditor.permalinkDetails.isLibraryEntry)),u=(0,l.GV)((e=>e.regexEditor.permalinkDetails.isEditable)),g=(0,l.GV)((e=>e.regexEditor.libraryDetails.description))||"",h=(0,l.GV)((e=>e.regexEditor.libraryDetails.title))||"",m=(0,l.GV)((e=>e.regexEditor.libraryDetails.author))||"",j=(0,l.GV)((e=>e.unitTests.tests)),b=(0,l.GV)((e=>e.regexEditor.regex)),y=(0,l.GV)((e=>e.regexEditor.testString)),A=(0,l.GV)((e=>e.regexEditor.flags)),f=(0,l.GV)((e=>e.regexEditor.delimiter)),E=(0,l.GV)((e=>e.regexEditor.flavor)),k=(0,l.GV)((e=>e.regexEditor.substString)),v=(0,l.GV)((e=>e.regexEditor.listSubstString)),N=(0,l.GV)((e=>e.regexEditor.selectedEditorType)),S=(0,U.iF)(),w=(0,r.A)(S,2),V=w[0],T=w[1],G=(0,U.$Y)(),O=(0,r.A)(G,2),D=O[0],L=O[1],R=n&&u,H=(0,i.useState)(!1),W=(0,r.A)(H,2),B=W[0],P=W[1],q=(0,i.useState)(R?h:""),J=(0,r.A)(q,2),Q=J[0],z=J[1],X=(0,i.useState)(R?m:""),Z=(0,r.A)(X,2),K=Z[0],ee=Z[1],se=(0,i.useState)(R?g:""),te=(0,r.A)(se,2),re=te[0],ie=te[1],ne=(0,i.useState)(""),ae=(0,r.A)(ne,2),le=ae[0],oe=ae[1],ce=(0,i.useCallback)((e=>{z(e),P(!0)}),[]),de=(0,i.useCallback)((e=>{ee(e),P(!0)}),[]),ue=(0,i.useCallback)((e=>{ie(e),P(!0)}),[]);(0,i.useEffect)((()=>{s&&(R?(z(h),ee(m),ie(g)):(z(""),ee(""),ie("")))}),[s,h,m,g,R]),(0,i.useEffect)((()=>()=>{s||(T.reset(),L.reset())}),[s,T,L]);const ge=T.isLoading||L.isLoading,xe=T.isError||L.isError;return(0,p.jsxs)(M.A,{onModalClose:e,isOpen:s,isLoading:ge,children:[(0,p.jsx)(_.A,{children:R?(0,o.A)("Update Community Entry"):(0,o.A)("Add Regex to the Community Pattern Library")}),(0,p.jsx)(F.A,{children:(0,p.jsxs)("div",{className:a()("TIaBj",ge&&"qEyQu"),children:[T.isSuccess&&(0,p.jsxs)("div",{className:"cX0fG",children:[(0,p.jsx)("div",{className:"Tkghu",children:(0,o.A)("Your regex has been successfully submitted to the library of community patterns!")}),(0,p.jsx)(x.WV,{tag:"p",text:"You can find the community entry here: {1}",ph1:(0,p.jsx)(x.N_,{to:`/library/${le}`,absolute:!0,children:`/library/${le}`})}),(0,p.jsx)(x.WV,{tag:"p",text:"Any changes to the community entry, both the expression, as well as title/description/etc, can be made at the following url: {1}",ph1:(0,p.jsx)(x.N_,{to:(0,c.p)(le),absolute:!0,children:(0,c.p)(le)})}),(0,p.jsx)("p",{children:(0,o.A)("You can continue to edit in this workspace without affecting the entry you just submitted.")}),(0,p.jsx)("strong",{children:(0,o.A)("Thank you for your contribution")})]}),!T.isSuccess&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Y,{title:(0,o.A)("Title"),required:!0,children:(0,p.jsx)(x.ks,{maxlength:150,onChange:ce,defaultValue:Q,placeholder:(0,o.A)("Title of regular expression")})}),(0,p.jsx)(Y,{title:(0,o.A)("Description"),required:!0,children:(0,p.jsx)($,{maxlength:5e3,onChange:ue,placeholder:(0,o.A)("Description of regular expression"),defaultValue:re})}),(0,p.jsx)(Y,{title:(0,o.A)("Author"),className:"hvXT6",children:(0,p.jsx)(x.ks,{maxlength:150,onChange:de,defaultValue:K,placeholder:(0,o.A)("Name or other identifier of the author")})}),(0,p.jsx)(x.$T,{type:C.Ei.WARN,noMargin:!0,children:(0,p.jsx)(x.WV,{text:"Please remember this entry will be public in the community library. This is not your personal regex library! To save, access and manage your personal entries, please go to the {1} instead.",ph1:(0,p.jsx)(x.N_,{to:`/account/${d.A.MINE}`,children:(0,o.A)("account page")})})})]})]})}),(0,p.jsxs)(I.A,{hasError:xe,errorText:(0,o.A)("There was a problem while trying to submit your regex to the library. Please try again later."),children:[ge&&(0,p.jsx)(x.y$,{className:"r2vLj",size:C.DN.TINY}),!T.isSuccess&&(0,p.jsx)(x.$n,{text:n?(0,o.A)("Update"):(0,o.A)("Submit"),disabled:!B||0===Q.length||0===re.length||ge,onClick:async()=>{const s={unitTests:j,regex:b,testString:y,flags:A,delimiter:f,flavor:E,substString:k,listSubstString:v,selectedEditorType:N},r={title:Q,description:re,author:K};if(R)(await D(Object.assign({permalinkFragment:t},r))).error||e();else{const e=await V(Object.assign(Object.assign({},s),r));e.error||oe(e.data.permalinkFragment)}},className:"NXj8U"}),(0,p.jsx)(x.$n,{text:T.isSuccess?(0,o.A)("Close"):(0,o.A)("Cancel"),onClick:e,type:C.Or.CANCEL,disabled:ge})]})]})}},58496:(e,s,t)=>{t.d(s,{A:()=>i});var r=function(e){return e.MINE="mine",e.FAVORITES="favorites",e.LIBRARY="library",e.ALL="all",e}(r||{});const i=r}}]);